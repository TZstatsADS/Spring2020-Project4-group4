data <- read.csv("../data/ml-latest-small/ratings.csv")
set.seed(1)
# train-test split (.8/.2)
train_ind <- createDataPartition(data$userId, p=.8, list=F)
library(tidyverse)
library(caret)
library(parallel)
load(file="../output/baseAlsCV.RData")
trainRMSE_f
trainRMSE_f%>%as_tibble()
trainRMSE_f
trainRMSE_f%>%rownames()
df=trainRMSE_f
df
df%>%rownames()
parameter=df%>%rownames()
iter=df%>%colnames()
parameter
iter
df
df
df%>%as_tibble()
df%>%as_tibble()%>%mutate(parameter=paratemer)
df%>%as_tibble()%>%mutate(parameter=parameter)
df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,values_to = iter,names_to = "iter")
df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,values_to = iter)
df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(parameter,values_to = iter)
df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = iter,values_to = RMSE)
df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = iter,values_to = RMSE)
df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")
tmp=df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")
tmp
ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,fill=parameter))
ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))
ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE))
tmp
ggplot()+geom_line(data=tmp%>%filter(parameter==5),mapping=aes(x=iter,y=RMSE))
tmp%>%filter(parameter==5)
test=tmp%>%filter(parameter==5)
ggplot()+geom_line(data=test,mapping=aes(x=iter,y=RMSE))
test
tmp=df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")%>%mutate(iter=as.numeric(iter))
ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE))
ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))
iter=df%>%colnames()
trainf=plot(trainRMSE_f)
trainf
df=trainRMSE_f
parameter=df%>%rownames()
iter=df%>%colnames()
tmp=df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")%>%mutate(iter=as.numeric(iter))
plot=ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))
plot
plot_cv<-function(df){
parameter=df%>%rownames()
iter=df%>%colnames()
tmp=df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")%>%mutate(iter=as.numeric(iter))
plot=ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))
return(plot)
}
trainf=plot_cv(trainRMSE_f)
trainf
plot=ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))+theme_light()
plot_cv<-function(df){
parameter=df%>%rownames()
iter=df%>%colnames()
tmp=df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")%>%mutate(iter=as.numeric(iter))
plot=ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))+theme_light()
return(plot)
}
trainf=plot_cv(trainRMSE_f)
trainf
trainf=plot_cv(trainRMSE_f)+labels(x="max")
trainf=plot_cv(trainRMSE_f)
trainf+labels(x="main")
trainf+labs(x="main")
trainf+labs(main="CV RMSE for f")
trainf=plot_cv(trainRMSE_f)
trainf+labs(main="CV RMSE for f")
trainf+labs(title="CV RMSE for f")
testf=plot_cv(testRMSE_f)
testf+labs(title="CV test_RMSE for f")
trainlamb=plot_cv(trainRMSE_lamb)
trainlamd=plot_cv(trainRMSE_lamd)
trainlamd+labs(title="CV train_RMSE for lambda")
testlamd=plot_cv(testRMSE_lamd)
testlamd+labs(title="CV test_RMSE for lambda")
plot_cv<-function(df){
parameter=df%>%rownames()
iter=df%>%colnames()
tmp=df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")%>%mutate(iter=as.numeric(iter))
plot=ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))+theme_light()
return(plot)
}
trainf=plot_cv(trainRMSE_f)
library(tidyverse)
library(caret)
library(parallel)
load(file="../output/baseAlsCV.RData")
plot_cv<-function(df){
parameter=df%>%rownames()
iter=df%>%colnames()
tmp=df%>%as_tibble()%>%mutate(parameter=parameter)%>%pivot_longer(-parameter,names_to = "iter",values_to = "RMSE")%>%mutate(iter=as.numeric(iter))
plot=ggplot()+geom_line(data=tmp,mapping=aes(x=iter,y=RMSE,color=parameter))+theme_light()
return(plot)
}
trainf=plot_cv(trainRMSE_f)
trainf+labs(title="CV train_RMSE for f")
testf=plot_cv(testRMSE_f)
testf+labs(title="CV test_RMSE for f")
trainf=plot_cv(trainRMSE_f)
trainf+labs(title="CV train_RMSE for f")
testf=plot_cv(testRMSE_f)
testf+labs(title="CV test_RMSE for f")
trainlamd=plot_cv(trainRMSE_lamd)
trainlamd+labs(title="CV train_RMSE for lambda")
testlamd=plot_cv(testRMSE_lamd)
testlamd+labs(title="CV test_RMSE for lambda")
